var u,u2,count,mods=[],darkbg=!1;function setup(){createCanvas(300,300).parent("play"),background("white"),u2=(u=50)/2*sqrt(3);var t=height/u+3,s=width/u2+3;count=int(t*s);for(var i=0,h=0;h<2*s;h++)for(var o=0;o<2*t;o++)mods[i++]=new Module(int(h)*u2*2,int(o)*u)}function draw(){noStroke();for(var t=0;t<=count;t++)mods[t].draw1();translate(0,u/2);for(t=0;t<=count;t++)mods[t].draw3();translate(u2,0);for(t=0;t<=count;t++)mods[t].draw2();translate(0,-u/2);for(t=0;t<=count;t++)mods[t].draw4()}function mousePressed(){for(var t=0;t<=count;t++)mods[t].Pressed()}function Module(t,s){this.s=25,this.x1=t,this.y1=s,this.x2=t,this.y2=s,this.x3=t,this.y3=s,this.x4=t,this.y4=s,this.b1=!1,this.b2=!1,this.b3=!1,this.b4=!1,this.isOverTriangle1=!1,this.isOverTriangle2=!1,this.isOverTriangle3=!1,this.isOverTriangle4=!1,this.c1="#545861",this.c2="#545861",this.c3="#545861",this.c4="#545861"}function windowResized(){resizeCanvas(windowWidth,windowHeight)}Module.prototype.draw1=function(){push(),translate(this.x1,this.y1),rectMode(CENTER),noStroke(),fill(this.c1),triangle(-this.s,-this.s,-this.s,this.s,sqrt(3)*this.s-this.s,0),this.px1=mouseX,this.py1=mouseY,this.ax1=this.x1-this.s,this.ay1=this.y1-this.s,this.bx1=this.x1-this.s,this.by1=this.y1+this.s,this.cx1=this.x1+sqrt(3)*this.s-this.s,this.cy1=this.y1,this.v01=[this.cx1-this.ax1,this.cy1-this.ay1],this.v11=[this.bx1-this.ax1,this.by1-this.ay1],this.v21=[this.px1-this.ax1,this.py1-this.ay1],this.dot001=this.v01[0]*this.v01[0]+this.v01[1]*this.v01[1],this.dot011=this.v01[0]*this.v11[0]+this.v01[1]*this.v11[1],this.dot021=this.v01[0]*this.v21[0]+this.v01[1]*this.v21[1],this.dot111=this.v11[0]*this.v11[0]+this.v11[1]*this.v11[1],this.dot121=this.v11[0]*this.v21[0]+this.v11[1]*this.v21[1],this.invDenom1=1/(this.dot001*this.dot111-this.dot011*this.dot011),this.u1=(this.dot111*this.dot021-this.dot011*this.dot121)*this.invDenom1,this.v1=(this.dot001*this.dot121-this.dot011*this.dot021)*this.invDenom1,this.isOverTriangle1=this.u1>=0&&this.v1>=0&&this.u1+this.v1<1,!0===this.isOverTriangle1?(fill("rgba(255, 255, 255, 0.2)"),triangle(-this.s,-this.s,-this.s,this.s,sqrt(3)*this.s-this.s,0)):noFill(),pop()},Module.prototype.draw2=function(){push(),translate(this.x2,this.y2),rectMode(CENTER),noStroke(),fill(this.c2),triangle(-this.s,-this.s,-this.s,this.s,sqrt(3)*this.s-this.s,0),this.px2=mouseX,this.py2=mouseY,this.nx2=this.x2+u2,this.ny2=this.y2+u/2,this.ax2=this.nx2-this.s,this.ay2=this.ny2-this.s,this.bx2=this.nx2-this.s,this.by2=this.ny2+this.s,this.cx2=this.nx2+sqrt(3)*this.s-this.s,this.cy2=this.ny2,this.v02=[this.cx2-this.ax2,this.cy2-this.ay2],this.v12=[this.bx2-this.ax2,this.by2-this.ay2],this.v22=[this.px2-this.ax2,this.py2-this.ay2],this.dot002=this.v02[0]*this.v02[0]+this.v02[1]*this.v02[1],this.dot012=this.v02[0]*this.v12[0]+this.v02[1]*this.v12[1],this.dot022=this.v02[0]*this.v22[0]+this.v02[1]*this.v22[1],this.dot112=this.v12[0]*this.v12[0]+this.v12[1]*this.v12[1],this.dot122=this.v12[0]*this.v22[0]+this.v12[1]*this.v22[1],this.invDenom2=1/(this.dot002*this.dot112-this.dot012*this.dot012),this.u2=(this.dot112*this.dot022-this.dot012*this.dot122)*this.invDenom2,this.v2=(this.dot002*this.dot122-this.dot012*this.dot022)*this.invDenom2,this.isOverTriangle2=this.u2>=0&&this.v2>=0&&this.u2+this.v2<1,!0===this.isOverTriangle2?(fill("rgba(255, 255, 255, 0.2)"),triangle(-this.s,-this.s,-this.s,this.s,sqrt(3)*this.s-this.s,0)):noFill(),pop()},Module.prototype.draw3=function(){push(),translate(this.x3,this.y3),rectMode(CENTER),noStroke(),fill(this.c3),triangle(-this.s,0,sqrt(3)*this.s-this.s,-this.s,sqrt(3)*this.s-this.s,this.s),this.px3=mouseX,this.py3=mouseY,this.nx3=this.x3,this.ny3=this.y3+u/2,this.ax3=this.nx3-this.s,this.ay3=this.ny3,this.bx3=this.nx3+sqrt(3)*this.s-this.s,this.by3=this.ny3-this.s,this.cx3=this.nx3+sqrt(3)*this.s-this.s,this.cy3=this.ny3+this.s,this.v03=[this.cx3-this.ax3,this.cy3-this.ay3],this.v13=[this.bx3-this.ax3,this.by3-this.ay3],this.v23=[this.px3-this.ax3,this.py3-this.ay3],this.dot003=this.v03[0]*this.v03[0]+this.v03[1]*this.v03[1],this.dot013=this.v03[0]*this.v13[0]+this.v03[1]*this.v13[1],this.dot023=this.v03[0]*this.v23[0]+this.v03[1]*this.v23[1],this.dot113=this.v13[0]*this.v13[0]+this.v13[1]*this.v13[1],this.dot123=this.v13[0]*this.v23[0]+this.v13[1]*this.v23[1],this.invDenom3=1/(this.dot003*this.dot113-this.dot013*this.dot013),this.u3=(this.dot113*this.dot023-this.dot013*this.dot123)*this.invDenom3,this.v3=(this.dot003*this.dot123-this.dot013*this.dot023)*this.invDenom3,this.isOverTriangle3=this.u3>=0&&this.v3>=0&&this.u3+this.v3<1,!0===this.isOverTriangle3?(fill("rgba(255, 255, 255, 0.2)"),triangle(-this.s,0,sqrt(3)*this.s-this.s,-this.s,sqrt(3)*this.s-this.s,this.s)):noFill(),pop()},Module.prototype.draw4=function(){push(),translate(this.x4,this.y4),rectMode(CENTER),noStroke(),fill(this.c4),triangle(-this.s,0,sqrt(3)*this.s-this.s,-this.s,sqrt(3)*this.s-this.s,this.s),this.px4=mouseX,this.py4=mouseY,this.nx4=this.x4+u2,this.ny4=this.y4,this.ax4=this.nx4-this.s,this.ay4=this.ny4,this.bx4=this.nx4+sqrt(3)*this.s-this.s,this.by4=this.ny4-this.s,this.cx4=this.nx4+sqrt(3)*this.s-this.s,this.cy4=this.ny4+this.s,this.v04=[this.cx4-this.ax4,this.cy4-this.ay4],this.v14=[this.bx4-this.ax4,this.by4-this.ay4],this.v24=[this.px4-this.ax4,this.py4-this.ay4],this.dot004=this.v04[0]*this.v04[0]+this.v04[1]*this.v04[1],this.dot014=this.v04[0]*this.v14[0]+this.v04[1]*this.v14[1],this.dot024=this.v04[0]*this.v24[0]+this.v04[1]*this.v24[1],this.dot114=this.v14[0]*this.v14[0]+this.v14[1]*this.v14[1],this.dot124=this.v14[0]*this.v24[0]+this.v14[1]*this.v24[1],this.invDenom4=1/(this.dot004*this.dot114-this.dot014*this.dot014),this.u4=(this.dot114*this.dot024-this.dot014*this.dot124)*this.invDenom4,this.v4=(this.dot004*this.dot124-this.dot014*this.dot024)*this.invDenom4,this.isOverTriangle4=this.u4>=0&&this.v4>=0&&this.u4+this.v4<1,!0===this.isOverTriangle4?(fill("rgba(255, 255, 255, 0.2)"),triangle(-this.s,0,sqrt(3)*this.s-this.s,-this.s,sqrt(3)*this.s-this.s,this.s)):noFill(),pop()},Module.prototype.Pressed=function(){!0===this.isOverTriangle1&&(!1===this.b1?(this.c1="#A8A6D3",this.b1=!0):(this.c1="#545861",this.b1=!1)),!0===this.isOverTriangle2&&(!1===this.b2?(this.c2="#A8A6D3",this.b2=!0):(this.c2="#545861",this.b2=!1)),!0===this.isOverTriangle3&&(!1===this.b3?(this.c3="#A8A6D3",this.b3=!0):(this.c3="#545861",this.b3=!1)),!0===this.isOverTriangle4&&(!1===this.b4?(this.c4="#A8A6D3",this.b4=!0):(this.c4="#545861",this.b4=!1))};