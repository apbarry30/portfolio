!function(t){t.easyPieChart=function(o,n){var e,i,a,s,r,c,l,p,h=this;return this.el=o,this.$el=t(o),this.$el.data("easyPieChart",this),this.init=function(){var o,e;return h.options=t.extend({},t.easyPieChart.defaultOptions,n),o=parseInt(h.$el.data("percent"),10),h.percentage=0,h.canvas=t("<canvas width='"+h.options.size+"' height='"+h.options.size+"'></canvas>").get(0),h.$el.append(h.canvas),"undefined"!=typeof G_vmlCanvasManager&&null!==G_vmlCanvasManager&&G_vmlCanvasManager.initElement(h.canvas),h.ctx=h.canvas.getContext("2d"),window.devicePixelRatio>1&&(e=window.devicePixelRatio,t(h.canvas).css({width:h.options.size,height:h.options.size}),h.canvas.width*=e,h.canvas.height*=e,h.ctx.scale(e,e)),h.ctx.translate(h.options.size/2,h.options.size/2),h.ctx.rotate(h.options.rotate*Math.PI/180),h.$el.addClass("easyPieChart"),h.$el.css({width:h.options.size,height:h.options.size}),h.update(o),h},this.update=function(t){return t=parseFloat(t)||0,!1===h.options.animate?a(t):i(h.percentage,t),h},l=function(){var t,o,n;for(h.ctx.fillStyle=h.options.scaleColor,h.ctx.lineWidth=1,n=[],t=o=0;o<=24;t=++o)n.push(e(t));return n},e=function(t){var o;o=t%6==0?0:.017*h.options.size,h.ctx.save(),h.ctx.rotate(t*Math.PI/12),h.ctx.fillRect(h.options.size/2-o,0,.05*-h.options.size+o,1),h.ctx.restore()},p=function(){var t;t=h.options.size/2-h.options.lineWidth/2,!1!==h.options.scaleColor&&(t-=.08*h.options.size),h.ctx.beginPath(),h.options.backgroundColor&&(h.ctx.arc(0,0,t,0,2*Math.PI,!0),h.ctx.closePath(),h.ctx.fillStyle=h.options.backgroundColor,h.ctx.fill()),h.ctx.arc(0,0,t,0,2*Math.PI,!0),h.ctx.closePath(),h.ctx.strokeStyle=h.options.trackColor,h.ctx.lineWidth=h.options.lineWidth,h.ctx.stroke()},c=function(){!1!==h.options.scaleColor&&l(),!1!==h.options.trackColor&&p()},a=function(o){var n;c(),h.ctx.strokeStyle=t.isFunction(h.options.barColor)?h.options.barColor(o):h.options.barColor,h.ctx.lineCap=h.options.lineCap,h.ctx.lineWidth=h.options.lineWidth,n=h.options.size/2-h.options.lineWidth/2,!1!==h.options.scaleColor&&(n-=.08*h.options.size),h.ctx.save(),h.ctx.rotate(-Math.PI/2),h.ctx.beginPath(),h.ctx.arc(0,0,n,0,2*Math.PI*o/100,!1),h.ctx.stroke(),h.ctx.restore()},r=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)},i=function(t,o){var n,e;h.options.onStart.call(h),h.percentage=o,Date.now||(Date.now=function(){return+new Date}),e=Date.now(),n=function(){var i,l;if((l=Date.now()-e)<h.options.animate&&r(n),h.ctx.clearRect(-h.options.size/2,-h.options.size/2,h.options.size,h.options.size),c.call(h),i=[s(l,t,o-t,h.options.animate)],h.options.onStep.call(h,i),a.call(h,i),l>=h.options.animate)return h.options.onStop.call(h,i,o)},r(n)},s=function(t,o,n,e){var i;return i=function(t){return Math.pow(t,2)},n/2*function(t){return t<1?i(t):2-i(t/2*-2+2)}(t/=e/2)+o},this.init()},t.easyPieChart.defaultOptions={barColor:"#ef1e25",trackColor:"#f2f2f2",scaleColor:"#dfe0e0",backgroundColor:"",lineCap:"round",rotate:0,size:110,lineWidth:3,animate:!1,onStart:t.noop,onStop:t.noop,onStep:t.noop},t.fn.easyPieChart=function(o){return t.each(this,(function(n,e){var i,a;if(!(i=t(e)).data("easyPieChart"))return a=t.extend({},o,i.data()),i.data("easyPieChart",new t.easyPieChart(e,a))}))}}(jQuery);